Feature Specification: Arabic Transcript (G6) with Auto Subject Marks + Bilingual Identity Block + Final Result Logic

Goal:
Generate an official Arabic-only Grade 6 transcript using the provided template:

ğŸ“„ Transcript Template:
/mnt/data/Transcript for G6.pdf
(Use layout, tables, and Arabic wording exactly as shown.)

The system must automatically insert marks for each subject (under â€œØ±Ù‚Ù…Ø§Ù‹â€), compute totals, compute percentage, determine final grade (Ø§Ù„ØªÙ‚Ø¯ÙŠØ±), and fill in identity details in Arabic + English.

âœ… A) Data Sources

For each student:

From results database:

All subject marks (13 subjects from the template).

From student profile:

Arabic:

Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨/Ø© (Student name)

Ø§Ù„Ø¬Ù†Ø³ÙŠØ© (Nationality)

Ø§Ù„Ù…Ø¯Ø±Ø³Ø© (School)

English:

Student name (EN) â†’ transliteration

Nationality (EN) â†’ translation to adjective (Gambian, Nigerian, etc.)

School (EN) â†’ official English school name or transliteration

Computed:

Total Marks (Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª)

Percentage (Ø§Ù„Ù†Ø³Ø¨Ø©)

Final Result (Ø§Ù„ØªÙ‚Ø¯ÙŠØ±)

âœ… B) Subject Rows

Use the subjects exactly as listed in the Arabic template (13 rows).
The system must place each mark under the â€œØ±Ù‚Ù…Ø§Ù‹â€ column:

Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…

Ø§Ù„Ø­Ø¯ÙŠØ«

Ø§Ù„ØªÙˆØ­ÙŠØ¯

Ø§Ù„ÙÙ‚Ù‡

Ø§Ù„Ø³ÙŠØ±Ø©

Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„Ù…Ø­ÙÙˆØ¸Ø§Øª

Ø§Ù„ÙƒØªØ§Ø¨Ø© (Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø®Ø·)

Ø§Ù„ØªØ¹Ø¨ÙŠØ±

Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯

Science

Mathematics

S.E.S

English

For each subject:

Insert the numeric mark under â€œØ±Ù‚Ù…Ø§Ù‹â€

Leave empty if mark is missing

âœ… C) Total Marks (Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª)

System must compute:

Total Marks = Sum of all available subject marks


Insert the computed total in the field under Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª exactly as shown in the template.

âœ… D) Percentage (Ø§Ù„Ù†Ø³Ø¨Ø©)

Calculate:

Percentage = (Total Marks Ã· Total Maximum Marks) Ã— 100


The â€œTotal Maximum Marksâ€ = Sum of maximum marks of every subject
(Use the maxima printed on the transcript template for consistency.)

Insert the percentage value in the field for Ø§Ù„Ù†Ø³Ø¨Ø©.

âœ… E) Final Result (Grade) Ø§Ù„ØªÙ‚Ø¯ÙŠØ±

Use these exact logic rules:

Percentage Range	Final Result (Ø§Ù„ØªÙ‚Ø¯ÙŠØ±)
85% â€“ 100%	Ù…Ù…ØªØ§Ø²
75% â€“ 84%	Ø¬ÙŠØ¯ Ø¬Ø¯Ø§
65% â€“ 74%	Ø¬ÙŠØ¯
50% â€“ 64%	Ù…Ù‚Ø¨ÙˆÙ„
Below 50%	Ø±Ø§Ø³Ø¨ (if applicable)

System must:

Compare percentage to ranges.

Determine Final Result.

Insert Ø§Ù„ØªÙ‚Ø¯ÙŠØ± automatically in the template field.

âœ… F) Identity Section (Arabic + English Side-by-Side)

Right side (Arabic â€” from template):

Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨/Ø©

Ø§Ù„Ø¬Ù†Ø³ÙŠØ©

Ø§Ù„Ù…Ø¯Ø±Ø³Ø©

Left side (English â€” new requirement):

Student Name (EN)

Nationality (EN)

School (EN)

The English block must be aligned next to the Arabic block in the same row.

Names in English must be transliterated, not translated.
Arabic nationality â†’ English adjective.

âœ… G) Arabic Text Cleaner (Pre-processing)

Apply to:

Student name

School name

Nationality

Subject labels (for matching)

Rules:

Remove extra spaces

Remove tatweel â€œÙ€â€

Normalize Alef â†’ Ø§

Normalize Ø© â†’ Ù‡

Normalize Ù‰ â†’ ÙŠ

Remove dots/punctuation inside names

Normalize Arabic digits â†’ English digits

This ensures clean matching and clean printing on the transcript.

âœ… H) Rendering Requirements

The transcript MUST stay Arabic-only except for the three English identity fields.

Use coordinate-based rendering to place:

Subject marks under â€œØ±Ù‚Ù…Ø§Ù‹â€

Total marks, percentage, final grade

Arabic & English identity fields

Use Arabic-capable fonts (Amiri / Noto Naskh Arabic)

Output a single PDF per student.

âœ… I) Validation Rules

Block transcript generation if:

No subject marks exist

Missing Arabic student name / nationality / school

Missing English translation fields

Missing total marks or percentage cannot be computed

Provide errors in Arabic.

ğŸ¯ Acceptance Criteria

The system must generate a transcript PDF that:

âœ” Matches the Arabic layout & wording exactly
âœ” Fills all subject marks under â€œØ±Ù‚Ù…Ø§Ù‹â€
âœ” Computes total marks, percentage, and final result using the exact logic above
âœ” Shows identity block in Arabic and English
âœ” Keeps the document fully Arabic except the left-side English identity
âœ” Normalizes Arabic text before rendering
âœ” Supports batch generation